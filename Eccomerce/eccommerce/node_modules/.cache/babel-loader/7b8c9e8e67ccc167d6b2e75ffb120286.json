{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Peter\\\\Desktop\\\\Enterprise application dev\\\\Eccomerce\\\\eccommerce\\\\src\\\\Componets\\\\Forms\\\\UploadItem.js\";\nimport React, { Component } from 'react';\nimport { Button, Toast, Alert, variant } from 'react-bootstrap';\nimport 'bootstrap';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap.js';\nimport axios from \"axios\";\nimport fire from '../../cofigFile/firebase';\n\nclass Upload extends Component {\n  // Get a reference to the database service\n  constructor(props) {\n    super(props);\n    this.onChangeName = this.onChangeName.bind(this);\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.onChangeQuantity = this.onChangeQuantity.bind(this);\n    this.onChangePicture = this.onChangeSelectedFile.bind(this);\n    this.onSubmitForm = this.onSubmitForm.bind(this);\n    this.state = {\n      name: \"\",\n      descriptionx: \"\",\n      item_quantity: \"\",\n      item_url: \"\",\n      selectedFile: null,\n      error: null\n    };\n  } //    fileSelectedHandler  = event => {\n  //     this.setState({\n  //      selectedFile: event.target.files[0],\n  //   })\n  //}\n\n\n  onChangeDescription(e) {\n    this.setState({\n      descriptionx: e.target.value\n    });\n  }\n\n  onChangeQuantity(e) {\n    this.setState({\n      item_quantity: e.target.value\n    });\n  }\n\n  onChangeName(e) {\n    this.setState({\n      name: e.target.value\n    });\n  }\n\n  onChangeSelectedFile(e) {\n    this.setState({\n      selectedFile: e.target.files[0]\n    });\n  }\n\n  onSubmitForm() {\n    //start\n    try {\n      //submit logic lol\n      console.log(\"Name  \" + this.state.name);\n      console.log(\"Description  \" + this.state.descriptionx);\n      console.log(\"Quanity  \" + this.state.item_quantity);\n      console.log(\"Picture  \" + this.state.selectedFile.name);\n      var name = this.state.name;\n      var desccrriptiomn = this.state.descriptionx;\n      var Quanity = this.state.Quanity;\n      var url = this.state.selectedFile; //firebase storage to store image return url\n      //TODO\n\n      var image = this.state.selectedFile;\n      var user = fire.auth().currentUser;\n      var filename = this.state.selectedFile.name;\n      var storageRef = fire.storage().ref('/pictures/' + filename);\n      var uploadTask = storageRef.put(this.state.selectedFile); //create new item object to submit\n\n      uploadTask.on('state_changed', function (snapshot) {\n        // Observe state change events such as progress, pause, and resume\n        // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n        var progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n        console.log('Upload is ' + progress + '% done');\n      }, function (error) {\n        console.log(error); // Handle unsuccessful uploads\n\n        console.log('Upload was unsuccessful');\n      }, function () {\n        uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n          //consoleconsoleconsoleconsole.log('File available at', downloadURL);\n          //console.log(\"Name: \" +filename)\n          if (image) {\n            //change satate to include url\n            console.log(downloadURL);\n            const newItemObject = {\n              item_name: name,\n              item_description: desccrriptiomn,\n              item_quantity: Quanity,\n              item_url: downloadURL\n            }; // post moethord from axios to add data\n\n            axios.post(\"http://localhost:4000/item/add\", newItemObject).then(res => {\n              console.log(res.data);\n            });\n          } else {\n            console.log(\"get ur shit together\");\n          }\n        });\n      });\n      this.setState({\n        name: \"\",\n        descriptionx: \"\",\n        item_quantity: \"\",\n        item_url: \"\",\n        selectedFile: null\n      });\n    } catch {\n      this.setState({\n        error: /*#__PURE__*/React.createElement(Alert, {\n          variant: \"danger\",\n          style: {\n            borderRadius: \"25px\",\n            margin: \"5%\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 20\n          }\n        }, \"Sorry the item has not been added\")\n      });\n    }\n  } //end\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"40%\",\n        border: '2px solid black',\n        borderRadius: \"25px\",\n        margin: \"auto\",\n        marginTop: \"8%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: \"10%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 7\n      }\n    }, \"New Item\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      form: \"F1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 7\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        width: \"90%\"\n      },\n      type: \"text\",\n      className: \"form-control\",\n      id: \"name\",\n      placeholder: \"description\",\n      value: this.state.name,\n      onChange: this.onChangeName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      form: \"F1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        width: \"90%\"\n      },\n      type: \"text\",\n      className: \"form-control\",\n      id: \"desccrriptiomn\",\n      placeholder: \"description\",\n      value: this.state.descriptionx,\n      onChange: this.onChangeDescription,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      form: \"F2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }\n    }, \"Quantity\"), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        width: \"90%\"\n      },\n      type: \"text\",\n      className: \"form-control\",\n      id: \"quantity\",\n      placeholder: \"Quantity\",\n      value: this.state.item_quantity,\n      onChange: this.onChangeQuantity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"exampleFormControlFile1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }\n    }, \"Upload Item\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"form-control-file\",\n      id: \"exampleFormControlFile1\",\n      onChange: this.onChangePicture,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.onSubmitForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 7\n      }\n    }, \"Upload\"))), this.state.error ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 7\n      }\n    }, this.state.error) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 5\n      }\n    }, \" \"));\n  }\n\n}\n\nexport default Upload;","map":{"version":3,"sources":["C:/Users/Peter/Desktop/Enterprise application dev/Eccomerce/eccommerce/src/Componets/Forms/UploadItem.js"],"names":["React","Component","Button","Toast","Alert","variant","axios","fire","Upload","constructor","props","onChangeName","bind","onChangeDescription","onChangeQuantity","onChangePicture","onChangeSelectedFile","onSubmitForm","state","name","descriptionx","item_quantity","item_url","selectedFile","error","e","setState","target","value","files","console","log","desccrriptiomn","Quanity","url","image","user","auth","currentUser","filename","storageRef","storage","ref","uploadTask","put","on","snapshot","progress","bytesTransferred","totalBytes","getDownloadURL","then","downloadURL","newItemObject","item_name","item_description","post","res","data","borderRadius","margin","render","width","border","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button,Toast , Alert, variant} from 'react-bootstrap';\r\nimport 'bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport 'bootstrap/dist/js/bootstrap.js';\r\nimport axios from \"axios\";\r\nimport fire from '../../cofigFile/firebase';\r\n\r\nclass Upload extends Component {\r\n    // Get a reference to the database service\r\n    constructor(props){\r\n      super(props)\r\n      this.onChangeName=this.onChangeName.bind(this);\r\n      this.onChangeDescription=this.onChangeDescription.bind(this);\r\n      this.onChangeQuantity=this.onChangeQuantity.bind(this);\r\n      this.onChangePicture=this.onChangeSelectedFile.bind(this);\r\n      this.onSubmitForm=this.onSubmitForm.bind(this);\r\n\r\n    this.state = {\r\n      name: \"\",\r\n      descriptionx: \"\",\r\n      item_quantity:\"\",\r\n      item_url:\"\",\r\n      selectedFile : null,\r\n      error:null\r\n\r\n    };\r\n    }\r\n\r\n//    fileSelectedHandler  = event => {\r\n //     this.setState({\r\n  //      selectedFile: event.target.files[0],\r\n   //   })\r\n    //}\r\n\r\n    onChangeDescription(e){\r\n      this.setState({\r\n        descriptionx : e.target.value\r\n      });\r\n\r\n    }\r\n\r\n    onChangeQuantity(e){\r\n      this.setState({\r\n        item_quantity : e.target.value\r\n      });\r\n\r\n    }\r\n\r\n    onChangeName(e){\r\n      this.setState({\r\n        name : e.target.value\r\n      });\r\n\r\n    }\r\n\r\n    \r\n    onChangeSelectedFile(e){\r\n        this.setState({\r\n          selectedFile : e.target.files[0]\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    onSubmitForm() { //start\r\n\r\n      try {\r\n\r\n\r\n      //submit logic lol\r\n      console.log(\"Name  \"+this.state.name)\r\n      console.log(\"Description  \"+this.state.descriptionx)\r\n      console.log(\"Quanity  \" +this.state.item_quantity)\r\n      console.log(\"Picture  \" +this.state.selectedFile.name)\r\n      var name = this.state.name;\r\n      var desccrriptiomn=this.state.descriptionx;\r\n      var Quanity=this.state.Quanity;\r\n      var url = this.state.selectedFile;\r\n      //firebase storage to store image return url\r\n      //TODO\r\n      var image = this.state.selectedFile;\r\n      var user = fire.auth().currentUser;\r\n      var filename = this.state.selectedFile.name;\r\n      var storageRef = fire.storage().ref('/pictures/' + filename);\r\n      var uploadTask = storageRef.put(this.state.selectedFile);\r\n      //create new item object to submit\r\n      uploadTask.on('state_changed', function(snapshot){\r\n        // Observe state change events such as progress, pause, and resume\r\n        // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n        var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n        console.log('Upload is ' + progress + '% done');\r\n        \r\n      }, function(error) {\r\n        console.log(error)\r\n        // Handle unsuccessful uploads\r\n        console.log('Upload was unsuccessful')\r\n        \r\n      }, function() {\r\n          uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {\r\n          //consoleconsoleconsoleconsole.log('File available at', downloadURL);\r\n          //console.log(\"Name: \" +filename)\r\n\r\n          if (image) {\r\n            //change satate to include url\r\n              console.log(downloadURL)\r\n              const newItemObject = {\r\n                item_name: name,\r\n                item_description: desccrriptiomn, \r\n                item_quantity: Quanity,\r\n                item_url: downloadURL\r\n            }\r\n\r\n          // post moethord from axios to add data\r\n            axios.post(\"http://localhost:4000/item/add\", newItemObject).then(\r\n              res => {\r\n                console.log(res.data);\r\n              }\r\n          )\r\n            \r\n            \r\n          }else{\r\n            console.log(\"get ur shit together\")\r\n          }\r\n\r\n        });\r\n      });\r\n\r\n\r\n\r\n      this.setState({\r\n          name : \"\",\r\n          descriptionx : \"\",\r\n          item_quantity : \"\",\r\n          item_url:\"\",\r\n          selectedFile : null\r\n      });\r\n\r\n    }\r\n\r\n    catch {\r\n      this.setState({\r\n        error : (  <Alert variant=\"danger\" style={{borderRadius:\"25px\", margin:\"5%\"}}>\r\n          Sorry the item has not been added\r\n        </Alert>)\r\n    })\r\n    }\r\n\r\n    }//end\r\n\r\n\r\n\r\n    render(){\r\n  return (\r\n    <div  style={{ width:\"40%\",  border: '2px solid black' ,  borderRadius: \"25px\", margin:\"auto\", marginTop:\"8%\"}}>\r\n      <div style={{margin:\"10%\"}}>\r\n      <form>\r\n      <h3>New Item</h3>\r\n      <div class=\"form-group\">\r\n      <label form=\"F1\">Name</label>\r\n        <input style={{width:\"90%\"}}type=\"text\" className=\"form-control\" id=\"name\" placeholder=\"description\" value={this.state.name} onChange={this.onChangeName}/>\r\n       \r\n        <label form=\"F1\">Description</label>\r\n        <input style={{width:\"90%\"}}type=\"text\" className=\"form-control\" id=\"desccrriptiomn\" placeholder=\"description\" value={this.state.descriptionx} onChange={this.onChangeDescription}/>\r\n        <label form=\"F2\">Quantity</label>\r\n        <input style={{width:\"90%\"}}type=\"text\" className=\"form-control\" id=\"quantity\" placeholder=\"Quantity\" value={this.state.item_quantity} onChange={this.onChangeQuantity}/>\r\n        <label for=\"exampleFormControlFile1\">Upload Item</label>\r\n        <input type=\"file\" className=\"form-control-file\" id=\"exampleFormControlFile1\"  onChange={this.onChangePicture}/>  \r\n      </div>\r\n     \r\n\r\n\r\n\r\n\r\n      <Button onClick={this.onSubmitForm}>Upload</Button>\r\n    </form>\r\n    </div>\r\n    {this.state.error ? (\r\n      <div>{this.state.error}</div>\r\n    ) : (\r\n    <div> </div>\r\n    )}\r\n    \r\n    </div>\r\n    \r\n  );\r\n}}\r\n\r\nexport default Upload;\r\n"]},"metadata":{},"sourceType":"module"}